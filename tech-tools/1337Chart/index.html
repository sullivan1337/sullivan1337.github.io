<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Org Chart Demo (LinkedIn OIDC + Auto Layout)</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>The Org</h1>
    <div class="header-controls">
      <!-- This button initiates PKCE-based LinkedIn OIDC in the client. -->
      <button id="btnLinkedInOAuth">Sign in with LinkedIn</button>
      <!-- Add a new person -->
      <button id="btnAddEntry">Add Person</button>
    </div>
  </header>

  <!-- Modal for adding a new entry -->
  <div id="entryModal" class="modal">
    <div class="modal-content">
      <span id="closeModal" class="close">&times;</span>
      <h2>Add a Person</h2>

      <!-- If user is authenticated, we can fetch their info from userinfo -->
      <label for="linkedinLink">LinkedIn Profile (optional):</label>
      <input type="text" id="linkedinLink" placeholder="https://www.linkedin.com/in/someone" />

      <hr />

      <p>Or manually provide details:</p>
      <label for="nameInput">Name:</label>
      <input type="text" id="nameInput" placeholder="Name"/>

      <label for="titleInput">Title:</label>
      <input type="text" id="titleInput" placeholder="Title"/>

      <label for="imageInput">Image URL:</label>
      <input type="text" id="imageInput" placeholder="https://example.com/image.jpg"/>

      <label for="managerSelect">Manager (optional):</label>
      <select id="managerSelect">
        <option value="">-- None --</option>
      </select>

      <button id="btnSubmitEntry">Create</button>
    </div>
  </div>

  <main id="chartArea">
    <!-- SVG for drawing manager-subordinate lines -->
    <svg id="connectionSVG" width="100%" height="100%"></svg>
    <!-- Draggable cards will be appended here dynamically on top of the SVG -->
  </main>

  <script src="script.js"></script>
</body>
</html>

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>File Directory</title>
  </head>
  <body>
    <h1>File Directory</h1>
    <ul id="fileList">
    </ul>
    <script>
      // get the current directory
      var url = window.location.href;
      var dir = url.substring(0, url.lastIndexOf('/'));

      // use an AJAX request to get a list of files in the current directory
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
          // parse the HTML response and output file names as links
          var fileList = document.getElementById("fileList");
          var parser = new DOMParser();
          var htmlDoc = parser.parseFromString(this.responseText, "text/html");
          var links = htmlDoc.querySelectorAll("a");
          for (var i = 0; i < links.length; i++) {
            var link = links[i];
            if (link.getAttribute("href") !== "../" && link.textContent !== "../") {
              var li = document.createElement("li");
              var a = document.createElement("a");
              a.href = dir + "/" + link.getAttribute("href");
              a.textContent = link.textContent.trim();
              li.appendChild(a);
              fileList.appendChild(li);
            }
          }
        }
      };
      xhttp.open("GET", dir, true);
      xhttp.send();
    </script>
  </body>
</html>

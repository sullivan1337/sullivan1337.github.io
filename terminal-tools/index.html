<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>File Directory</title>
  </head>
  <body>
    <h1>File Directory</h1>
    <ul id="fileList">
    </ul>
    <script>
      // get the current directory
      var url = window.location.href;
      var dir = url.substring(0, url.lastIndexOf('/'));

      // use an AJAX request to read the directory
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
          // parse the directory listing and output file names
          var fileList = document.getElementById("fileList");
          var files = this.responseText.split("\n");
          for (var i = 0; i < files.length; i++) {
            if (files[i] !== "" && files[i] !== "index.html") {
              var li = document.createElement("li");
              var a = document.createElement("a");
              a.href = dir + "/" + files[i];
              a.textContent = files[i];
              li.appendChild(a);
              fileList.appendChild(li);
            }
          }
        }
      };
      xhttp.open("GET", dir + "/", true);
      xhttp.send();
    </script>
  </body>
</html>
